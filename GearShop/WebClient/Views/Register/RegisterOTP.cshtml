@{
    ViewData["Title"] = "RegisterOTP";
    Layout = "~/Views/Shared/_Layout_Login.cshtml";
}
<link href="~/css/register_otp.css" rel="stylesheet" />
<section>
   
    <!-- OTP Enter -->
    <div id="EntryOTP" class="EntryOTP" style="display = block;">
        <form action="">
            <h2>INPUT YOUR OTP</h2>
            <text>
                OTP has been send to email
                <br>
                <!-- CLeny email -->
                <span class="emailmsg" style="font-weight: bold"></span>
            </text>
            <div class="otpbox">
                <input type="hidden" id="ServerOTP" name="ServerOTP" value="">
                <input type="text" class="otp" id="otp1" oninput="digitValidate(this)" onkeyup="tabChange(1)" maxlength="1" />
                <input type="text" class="otp" id="otp2" oninput="digitValidate(this)" onkeyup="tabChange(2)" maxlength="1" />
                <input type="text" class="otp" id="otp3" oninput="digitValidate(this)" onkeyup="tabChange(3)" maxlength="1" />
                <input type="text" class="otp" id="otp4" oninput="digitValidate(this)" onkeyup="tabChange(4)" maxlength="1" />
                <input type="text" class="otp" id="otp5" oninput="digitValidate(this)" onkeyup="tabChange(5)" maxlength="1" />
                <input type="text" class="otp" id="otp6" oninput="digitValidate(this)" onkeyup="tabChange(6)" maxlength="1" />
            </div>
            <span style="color:red" id="err-otp-msg"></span>
            <div class="btnResend" id="btnreSend" onclick="ResendOTP()">Resend OTP <span id="countDown">(30)</span></div>
            <div class="btnbox form-btn">
                <input name="" type="button" value="CANCEL" onclick="clearLocalStorageAndRedirect()" />
                <input id="BtnOtp" class="btn_londang2" type="button" value="NEXT" />
            </div>
        </form>
    </div>
  
    </div>
</section>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="~/js/regist/registerCheckOtp.js"></script>
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
<script>
    let digitValidate = function (ele) {
        console.log(ele.value);
        ele.value = ele.value.replace(/[^0-9]/g, "");
    };

    let tabChange = function (val) {
        let ele = document.querySelectorAll(".otp");
        if (ele[val - 1].value != "") {
            ele[val].focus();
        } else if (ele[val - 1].value == "") {
            ele[val - 2].focus();
        }
    };
    function clearLocalStorageAndRedirect() {
        localStorage.removeItem('registrationData'); 
        window.location.href = '/Signup'; 
    }
</script>